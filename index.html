<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Gro APIs</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["iOS"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="iOS">iOS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.grobanking.com/contact-gro/'>Contact Gro</a></li>
            <li><a href='https://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Inter-AppCommunication/Inter-AppCommunication.html#//apple_ref/doc/uid/TP40007072-CH6-SW1'>Apple URL Schemes Programming Guide</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="target-audience">Target Audience</h1>

<p>This API is intended for development resources well versed in mobile application development and integration.</p>

<h1 id="introduction">Introduction</h1>

<p>Welcome to the Gro Account Opening Native API!  This document describes the means  to integrate the Gro Account Opening Native Application into a mobile banking platform.</p>

<p>The areas to the right include code samples.  Currently only iOS integration is supported, but development for Android and Windows Mobile is underway. </p>

<p>This document details four methods for initializing and opening the Gro Account Opening Native Application from a mobile banking application.  The primary means of invoking the Gro application is through the use of a registered url scheme.  The Gro application is installed with the registered scheme &ldquo;groacct://&rdquo;.</p>

<p>For details on inter-app communication using url schemes, please visit the App Programming Guide for iOS.</p>

<h1 id="initialize-gro-account-opening">Initialize Gro Account Opening</h1>

<h2 id="openapp">OpenApp</h2>

<p>Open the Gro Account Opening application (nothing pre-populated)</p>
<pre class="highlight cpp"><code>
<span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">buttonPressed</span><span class="o">:</span><span class="p">(</span><span class="n">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="n">button</span>
<span class="p">{</span>
  <span class="n">NSString</span> <span class="o">*</span><span class="n">customURL</span> <span class="o">=</span> <span class="err">@</span><span class="s">"groacct://open.acct"</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">([[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">canOpenURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]])</span>
  <span class="p">{</span>
    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]];</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">UIAlertView</span> <span class="o">*</span><span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"URL error"</span>
                              <span class="n">message</span><span class="o">:</span><span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="err">@</span><span class="s">"No custom URL defined for %@"</span><span class="p">,</span> <span class="n">customURL</span><span class="p">]</span>
                              <span class="n">delegate</span><span class="o">:</span><span class="n">self</span> <span class="n">cancelButtonTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"Ok"</span> 
                              <span class="n">otherButtonTitles</span><span class="o">:</span><span class="n">nil</span><span class="p">];</span>
    <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
  <span class="p">}</span>

<span class="p">}</span>

</code></pre>

<h3 id="sample-url">Sample URL</h3>

<p><code class="prettyprint">groacct://open.acct</code></p>

<h2 id="openappwithproducts">OpenAppWithProducts</h2>

<p>Open the Gro Account Opening Native App with specific products pre-selected in the shopping cart.</p>
<pre class="highlight cpp"><code> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">buttonPressed</span><span class="o">:</span><span class="p">(</span><span class="n">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="n">button</span>
<span class="p">{</span>
  <span class="n">NSString</span> <span class="o">*</span><span class="n">customURL</span> <span class="o">=</span> <span class="err">@</span><span class="s">"groacct://open.acct?productID=24&amp;productID=122"</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">([[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">canOpenURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]])</span>
  <span class="p">{</span>
    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]];</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">UIAlertView</span> <span class="o">*</span><span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"URL error"</span>
                              <span class="n">message</span><span class="o">:</span><span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="err">@</span><span class="s">"No custom URL defined for %@"</span><span class="p">,</span> <span class="n">customURL</span><span class="p">]</span>
                              <span class="n">delegate</span><span class="o">:</span><span class="n">self</span> <span class="n">cancelButtonTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"Ok"</span> 
                              <span class="n">otherButtonTitles</span><span class="o">:</span><span class="n">nil</span><span class="p">];</span>
    <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<h3 id="sample-url">Sample URL</h3>

<p><code class="prettyprint">groacct://open.acct?productID=24&amp;productID=122</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productID</td>
<td>Unique Identifier of a financial product such as a specific bank account</td>
</tr>
</tbody></table>

<h2 id="openappssonotoken">OpenAppSSONoToken</h2>

<p>Open the Gro Account opening app with applicant personal information pre-populated.</p>

<p>If a user is already authenticated through the mobile application, the Gro Account Opening application can be invoked and passed application values that will appear pre-populated in the workflow pages. Free form text values that have spaces should be passed with spaces replaced by %20</p>
<pre class="highlight cpp"><code> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">buttonPressed</span><span class="o">:</span><span class="p">(</span><span class="n">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="n">button</span>
<span class="p">{</span>
  <span class="n">NSString</span> <span class="o">*</span><span class="n">customURL</span> <span class="o">=</span> <span class="err">@</span><span class="s">"groacct://open.acct?email=bob@example.com?phone=5555555555?Address1=100%20Sesame%20Street"</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">([[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">canOpenURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]])</span>
  <span class="p">{</span>
    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="n">URLWithString</span><span class="o">:</span><span class="n">customURL</span><span class="p">]];</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">UIAlertView</span> <span class="o">*</span><span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"URL error"</span>
                              <span class="n">message</span><span class="o">:</span><span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="err">@</span><span class="s">"No custom URL defined for %@"</span><span class="p">,</span> <span class="n">customURL</span><span class="p">]</span>
                              <span class="n">delegate</span><span class="o">:</span><span class="n">self</span> <span class="n">cancelButtonTitle</span><span class="o">:</span><span class="err">@</span><span class="s">"Ok"</span> 
                              <span class="n">otherButtonTitles</span><span class="o">:</span><span class="n">nil</span><span class="p">];</span>
    <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
  <span class="p">}</span>

<span class="p">}</span>

</code></pre>

<h3 id="sample-url-scheme">Sample URL scheme</h3>

<p><code class="prettyprint">groacct://open.acct?email=&#39;bob@example.com?phone=5555555555?Address1=100%20Sesame%20Street</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Applicant&rsquo;s email address</td>
</tr>
<tr>
<td>phone</td>
<td>Applicant&rsquo;s phone number (digits only, no dashes)</td>
</tr>
<tr>
<td>firstName</td>
<td>Applicant&rsquo;s first name</td>
</tr>
<tr>
<td>lastName</td>
<td>Applicant&rsquo;s last name</td>
</tr>
<tr>
<td>middle</td>
<td>applicants middle name or initial</td>
</tr>
<tr>
<td>Address1</td>
<td>Address 1 line</td>
</tr>
<tr>
<td>Address2</td>
<td>Address 2 line</td>
</tr>
<tr>
<td>City</td>
<td>City</td>
</tr>
<tr>
<td>State</td>
<td>State (2 character value)</td>
</tr>
<tr>
<td>Zip</td>
<td>Zip Code</td>
</tr>
</tbody></table>

<h2 id="openappssowithtoken">OpenAppSSOWithToken</h2>

<p>With this method, A SAML token is passed to the Gro Account Opening Application.
The application will then use the token to communicate with the specified server to retrieve and pre-populate applicant informatoin</p>

<h3 id="sample-url-scheme">Sample URL scheme</h3>

<p><code class="prettyprint">groacct://thisIsaPlaceHolder</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Place Holder</td>
<td>The below is not accurate</td>
</tr>
<tr>
<td>SAML Token</td>
<td>Applicant&rsquo;s email address</td>
</tr>
<tr>
<td>Server</td>
<td>hostname of the SSO server</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The following errors can be returned when invoking the Gro Account Opening Native application using its registered URL scheme</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>100</td>
<td>Invalid URL String</td>
</tr>
<tr>
<td>200</td>
<td>Improperly formatted key/value pair</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="iOS">iOS</a>
          </div>
      </div>
    </div>
  </body>
</html>
